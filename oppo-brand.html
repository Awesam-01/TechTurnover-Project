<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sell your Oppo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="oppo-brand.css">

</head>
<body>
    <div class="oppo-navigationbar">
        <h1>Sell Old Oppo Mobile Phone</h1>
          <a href="./index.html" style=" text-decoration:none; color: grey; font-size: 1.2rem; ">Home</a>
          <i class="fa-solid fa-greater-than fa-sm"></i>
          <a href="./select-model.html" style="text-decoration: none; color: grey; font-size: 1.2rem;">Sell your Phone</a>
          <i class="fa-solid fa-greater-than fa-sm"></i>
          <a href="" style="text-decoration: none; color: black; font-size: 1.2rem;">Sell old Oppo</a>
    </div>
    <div class="oppo-container" id="oppo-container">
    </div>
    <div class="why-sell">
        <h2 class="sell-subtitle">Why Sell on TechTurnover?</h2>
    </div>
    <ul class="sell-on-techturnover">
        <li class="sell">
            <div class="sell-reason">
                <div class="sell-img">
                    <img alt="Safe &amp; Secure" class="w-24" loading="lazy" fetchpriority="low" width="96" height="96" src="https://s3no.cashify.in/estore/4f796cee0146414781024144a7c897a3.png?p=default&amp;s=lg" style="aspect-ratio: 1 / 1;">
                </div>
                <div class="sell-explanation">
                    <div class="sell-title">
                        <h2 class="sell-h2">Safe & Secure</h2>
                    </div>
                    <div class="sell-statement" style="color: rgb(107 114 128);">'Select your device &amp; we’ll help you unlock the best selling price based on the present conditions of your gadget &amp; the current market price.</div>
                </div>
            </div>
        </li>
        <li class="sell">
            <div class="sell-reason">
                <div class="sell-img">
                    <img alt="Instant Payment" class="w-24" loading="lazy" fetchpriority="low" width="96" height="96" src="https://s3no.cashify.in/estore/3554c7e5a47448f7af7bbb967f8b95d9.png?p=default&amp;s=lg" style="aspect-ratio: 1 / 1;">
                </div>
                <div class="sell-explanation">
                    <div class="sell-title">
                        <h2 class="sell-h2">Instant Payment</h2>
                    </div>
                    <div class="sell-statement" style="color: rgb(107 114 128);">'On accepting the price offered for your device, we’ll arrange a free pick up.</div>
                </div>
            </div>
        </li>
        <li class="sell">
            <div class="sell-reason">
                <div class="sell-img">
                    <img alt="Best Price" class="w-24" loading="lazy" fetchpriority="low" width="96" height="96" src="https://s3no.cashify.in/estore/7a2c56b2eedd4a4ba2fcf309c96db7b2.png?p=default&amp;s=lg" style="aspect-ratio: 1 / 1;">
                </div>
                <div class="sell-explanation">
                    <div class="sell-title">
                        <h2 class="sell-h2">Best Price</h2>
                    </div>
                    <div class="sell-statement" style="color: rgb(107 114 128);">Instant Cash will be handed over to you at time of pickup or through payment mode of your choice.
                    </div>
                </div>
            </div>
        </li>
    </ul>
    <br>
    <div class="footer">
        <div class="contact-us-info" style="color: black;">
            <h3 style="font-weight: bold;">Contact us</h3>
            <p>TechTurnover</p>
            <p>Nairobi, Kenya</p>
            <p>+254 791517564</p>
            <div class="contact-us-logos">
                <a href="">
                    <i class="fa-brands fa-instagram" style="color: #e1306c;"></i>
                </a>
                <a href="">
                    <i class="fa-brands fa-facebook" style="color: #3b5998;"></i>
                </a>
                <a href="">
                    <i class="fa-brands fa-whatsapp" style="color: #25d366;"></i>
                </a>
            </div>
        </div>
        <div class="about-us-info">
            <h3 style="font-weight: bold;">About Us</h3>
            <p>
                <a href="" style="cursor: pointer; color: black">About us</a>
            </p>
            <p>
                <a href="" style="cursor: pointer; color: black;">Careers</a>
            </p>
            <p>
                <a href="" style="cursor: pointer; color: black;">Blog</a>
            </p>
        </div>
        <div class="help-info">
            <h3 style="font-weight: bold;">Help</h3>
            <p>
                <a href="" style="cursor: pointer; color: black;">Contact us</a>
            </p>
            <p>
                <a href="" style="cursor: pointer; color: black;">How-it-works</a>
            </p> 
        </div>
        <div class="legal-info">
            <h3 style="font-weight: bold;">Legal</h3>
            <p>
                <a href="" style="cursor: pointer; color: black;">Privacy Policy</a>
            </p>
            <p>
                <a href="" style="cursor: pointer; color: black">Terms and Conditions</a>
            </p>
            <p>
                <a href="" style="cursor: pointer; color: black;">Return Policy</a>
            </p>     
        </div>
    </div>
    <script type="module">
         // Import Firebase SDK
         import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
       
        // Your web app's Firebase configuration
    const firebaseConfig = {
    apiKey: "AIzaSyBy6bSRkUvGmCwlQt6-vn3Eu8UpRcV2n9E",
    authDomain: "techturnover-1b9a4.firebaseapp.com",
    projectId: "techturnover-1b9a4",
    
    storageBucket: "techturnover-1b9a4.firebasestorage.app",
    messagingSenderId: "774422758226",
    appId: "1:774422758226:web:9e190b7a2e60cb65feb08b"
    };
    
       // Initialize Firebase (Ensure this is done only once)
            const app = initializeApp(firebaseConfig);
            const database = getFirestore(app); // Pass `app` to avoid re-initialization
        // function that fetches data and display it
        async function getData() {
            const container = document.getElementById('oppo-container'); //first thing is we try to get a reference to an HTML element with the ID "oppo-container".
            container.innerHTML = "";

            try{
                const oppoCollection = collection(database, "Xiaomi"); //we are fetching data from collection called xiaomi from my firebase database
                // snapshot is like a screenshot of all the documents held from the Oppo collection at the moment
                const snapshot = await getDocs(oppoCollection); // we retrieve all documents from the Oppo collection in Firestore.
                snapshot.forEach(doc => { // helps you to loop through the documents inside the snapshot
                    const data = doc.data();

                     // Create card element
                     const card = document.createElement("div"); //we create a div class
                    card.classList.add("oppo-card"); //inside the div created we add a card

                     // Create link
                     const link = document.createElement("b");
                    link.href = data.pageUrl || "#"; // Default to "#" if no URL

                     // Create image div
                     const imgDiv = document.createElement("div"); //create a div
                    imgDiv.classList.add("oppo-img"); // inside the div created, we add a class called oppo img to store our device image
                    imgDiv.style.backgroundImage = `url(${data.image_url})`;
                    imgDiv.style.height = "180px"; // Add height dynamically
                    imgDiv.style.backgroundSize = "cover"; // Ensure the image covers the area
                    imgDiv.style.backgroundPosition = "center"; // Center the image

                     // Create name paragraph
                     const name = document.createElement("p"); // a paragraph
                    name.classList.add("oppo-name"); // the paragraph has a class named oppo name
                    name.textContent = data.name;

                    link.addEventListener('click', () => {
                // Save object to localStorage
                localStorage.setItem('selectedPhone', JSON.stringify(data));
                // Navigate to the new page
                window.location.href = `./details.html`
            })
                    // Append elements
                    // a child is an element that is directly nested inside another element.

                    link.appendChild(imgDiv);  // Adds an image container to the link
                    card.appendChild(link);    // Adds the link (with image) to the card
                    card.appendChild(name);    // Adds the phone name to the card
                    container.appendChild(card); // Adds the completed card to the container
                });
            } catch (error) {
                console.error("Error fetching data:", error);
            }
        }

// Call function once
getData();
    </script>
</body>
</html>